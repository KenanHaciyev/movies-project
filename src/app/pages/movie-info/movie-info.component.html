<div class="movie-promo">
  <div class="wrapper" >
    <div *ngIf="movieTrailers?.key;else poster">
      <app-video-player
        *ngIf="!bySound && movieTrailers?.key ; else bySoundOn" [trailerKey]="movieTrailers?.key">
      </app-video-player>

      <ng-template #bySoundOn>
        <app-video-player-trailers [trailerKey]="movieTrailers?.key"></app-video-player-trailers>
      </ng-template>
    </div>

    <ng-template class="posterInsteadVideo" #poster>
      <ng-container *ngIf="movieInfo?.poster_path">
        <div class="big-post">
          <img [src]="firstPartOfPath +'original'+movieInfo?.poster_path" alt="poster">
        </div>
      </ng-container>
    </ng-template>

    <div *ngIf="movieInfo?.poster_path" class="content">
      <div class="content-poster">
        <div class="content-poster-photo">
          <img [src]="firstPartOfPath+'w342'+movieInfo?.poster_path" alt="poster">
          <button *ngIf="movieTrailers" (click)="toTop()">WATCH TRAILER</button>
        </div>
      </div>

      <div class="content-description">
        <h2>{{movieInfo?.title}} ({{movieInfo?.release_date | date : 'yyyy'}}) </h2>

        <div *ngIf="movieInfo?.budget" class="content-description-line">
          <div>Budget:</div>
          <div class="toLeft">{{movieInfo?.budget |currency }}</div>
        </div>

        <div *ngIf="movieInfo?.revenue" class="content-description-line">
          <div>Revenue:</div>
          <div class="toLeft">{{movieInfo?.revenue |currency }}</div>
        </div>

        <div class="content-description-line">
          <div>Genres:</div>
          <div class="toLeft"> {{ movieInfo?.genres[0]?.name }}</div>
        </div>

        <div class="content-description-line">
          <div>Language:</div>
          <div class="toLeft">{{movieInfo?.original_language | titlecase}}</div>
        </div>

        <div class="content-description-line">
          <div>Duration:</div>
          <div class="toLeft">{{movieInfo?.runtime}} min</div>
        </div>

        <div class="content-description-line">
          <div>Release date:</div>
          <div class="toLeft">{{movieInfo?.release_date | date : "dd/MM/yyyy"}}</div>
        </div>

        <div *ngIf="movieInfo?.vote_average" class="content-description-line">
          <div>Rating:</div>
          <div class="toAlignItems toLeft">
            <span class="my-icon">Star</span> <span>{{movieInfo?.vote_average | number : '1.1-2'}}/10</span>
          </div>
        </div>

        <div class="overview">
          {{movieInfo?.overview}}
        </div>
      </div>

      <div class="content-images-wrapper" *ngIf="imagesArr" >
        <div class="content-images" *ngFor="let item of imagesArr" >
          <img [src]="firstPartOfPath+'w185/'+item?.file_path" alt="post">
        </div>
      </div>
    </div>

    <h2 style="text-align: center" *ngIf="movieInfo?.production_companies[0]?.logo_path">Production Companies</h2>
    <div class="companies">
      <div class="companies-images" *ngFor="let company of movieInfo?.production_companies">
        <div class="companies-images-flex" *ngIf="company.logo_path">
          <img [src]="firstPartOfPath+'w342' + company.logo_path" alt="sponsors">
        </div>
      </div>
    </div>

    <div>
      <h2>Actors</h2>
    </div>

      <h2>Similar movies</h2>
    <div class="similar" >
      <div class="similar-movie" *ngFor="let item of similarMovies" >
        <app-movie-item [itemData]="item" ></app-movie-item>
      </div>
    </div>

  </div>
</div>

<ng-template #loading>
  <h2>Loading...</h2>
</ng-template>



